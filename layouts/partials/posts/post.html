<article class="post" itemprop="blogPosts" itemscope itemtype="http://schema.org/BlogPosting">
  <div class="post-content">
    {{- $title := partial "PrepareHTML" .Title -}}
    <h1 itemprop="headline"><a href="{{ .Permalink }}" title="{{ safeHTML (i18n "commons.more_aria" (dict "Title" $title)) }}">{{ $title }}</a></h1>
    {{ if $.Site.Params.posts.list.show_categories }}
      {{- partial "posts/categories" . -}}
    {{ end }}
    {{- if (partial "GetTextFromHTML" .Params.description_short) -}}
      {{ if $.Site.Params.posts.list.truncate_description }}
        <p itemprop="articleBody">{{ partial "GetTruncateContent" ( dict 
          "text" .Params.description_short
          "length" $.Site.Params.posts.list.truncate_description
          ) }}</p>
      {{ else }}
        <p itemprop="articleBody">{{ partial "PrepareHTML" .Params.description_short }}</p>
      {{ end }}
    {{- end -}}
    
    <time itemprop="datePublished" datetime="{{ .Date.Format "2006-01-02T15:04" }}">{{ .Date | time.Format ":date_long" }}</time>
  </div>
  <div class="media">
    {{- if .Params.image -}}
      {{- partial "commons/image.html"
            (dict
              "image"    .Params.image
              "sizes"    site.Params.image_sizes.sections.posts.item
            ) -}}
    {{- else -}}
      {{- partial "commons/image-default.html" -}}
    {{- end -}}
  </div>
</article>
